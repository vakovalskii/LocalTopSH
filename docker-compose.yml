services:
  agent:
    build: .
    container_name: agent
    restart: unless-stopped
    env_file: .env
    environment:
      - AGENT_CWD=/workspace
    volumes:
      - ./workspace:/workspace
    ports:
      # User port range (4000-4999, each user gets 10 ports based on ID % 100)
      - "4000-4999:4000-4999"
    networks:
      - agent-net

networks:
  agent-net:
